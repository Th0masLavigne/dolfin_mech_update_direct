dolfin_mech.core.mesh2ugrid
===========================

.. py:module:: dolfin_mech.core.mesh2ugrid

.. autoapi-nested-parse::

   Utilities for converting FEniCS objects to VTK Unstructured Grids.





Module Contents
---------------

.. py:function:: mesh2ugrid(mesh, verbose=0)

   Converts a FEniCS mesh to a VTK Unstructured Grid (vtkUnstructuredGrid).

   This utility allows for the transition from FEniCS finite element meshes
   to VTK objects for visualization or further processing using VTK/PyVista.
   It supports 2D (triangles) and 3D (tetrahedrons) meshes.

   .. note::
       The coordinates and connectivity arrays are stored in a global scope
       temporarily within the function to prevent Python's garbage collector
       from breaking the VTK pointers.

   :param mesh: The FEniCS mesh to convert.
   :type mesh: dolfin.Mesh
   :param verbose: Verbosity level for debugging prints, defaults to 0.
   :type verbose: int, optional
   :return: A VTK unstructured grid representation of the mesh.
   :rtype: vtk.vtkUnstructuredGrid
   :raises AssertionError: If the mesh dimension is not 2 or 3.


.. py:function:: add_function_to_ugrid(function, ugrid, force_3d_field=1, verbose=0)

   Attaches a FEniCS Function's data to an existing VTK unstructured grid.

   The function values are extracted and added as point data to the VTK grid.
   Currently, only Lagrange (CG1) functions are supported as they map
   directly to mesh vertices.

   :param function: The FEniCS function containing the data (e.g., displacement, stress).
   :type function: dolfin.Function
   :param ugrid: The VTK unstructured grid to which data will be added.
   :type ugrid: vtk.vtkUnstructuredGrid
   :param force_3d_field: If 1 and the function is 2D, appends a zero Z-component, defaults to 1.
   :type force_3d_field: int, optional
   :param verbose: Verbosity level, defaults to 0.
   :type verbose: int, optional
   :raises AssertionError: If the function space is not compatible with mesh vertices (non-CG1).


.. py:function:: add_functions_to_ugrid(functions, ugrid)

   Helper function to add multiple FEniCS functions to a VTK grid.

   Iterates through a list of functions and calls :func:`add_function_to_ugrid`
   for each.

   :param functions: List of FEniCS functions to attach.
   :type functions: list[dolfin.Function]
   :param ugrid: The target VTK unstructured grid.
   :type ugrid: vtk.vtkUnstructuredGrid


